// main.js
// var obj;

// function loadDoc() {
// 	var jsonData = new XMLHttpRequest();
// 	jsonData.onreadystatechange = function() {
// 		if (jsonData.readyState == 4 && jsonData.status == 200) {
// 			obj = JSON.parse(jsonData.responseText);
// 		}
// 	};
// 	jsonData.open("GET", "data/data.json", true);
// 	jsonData.send();
// }

var flag = false;

var CarouselProducts = React.createClass({
	loadJson: function(){
		var jsonData = new XMLHttpRequest(),
			that = this;

		jsonData.overrideMimeType("application/json");
		
		this.serverRequest = jsonData.onreadystatechange = function() {
			if (jsonData.readyState == 4 && jsonData.status == 200) {
				that.setState({ data: JSON.parse(jsonData.responseText) }, function(){
					flag = true;
				});
			}
		};

		jsonData.open("GET", "data/data.json", true);
		jsonData.send();
	},
	getInitialState: function(){
		return { data: [] };
	},
	componentDidMount: function(){
		if (flag) {
			this.loadJson();
		}
	},
	render: function(){
		console.log(this.state.data);
		return (
			<div className="products-container">
				<div className="total-carousel">
					{this.state.data.products.map(function (product) {
						return <Product key={product.name} data={product} />;
					})}
				</div>
			</div>
		);
	}
});

var Product = React.createClass({
	render: function(){
		return (
			<li className="item">
				<p>{this.props.data.name}</p>
				<img src={'images/sapatos/'+this.props.data.img} alt={this.props.data.name} />
			</li>
		);
	}
})

var myElement = <CarouselProducts /> //data={products}

ReactDOM.render(
	myElement,
	document.getElementById('application')
);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtYWluLmpzXHJcbi8vIHZhciBvYmo7XHJcblxyXG4vLyBmdW5jdGlvbiBsb2FkRG9jKCkge1xyXG4vLyBcdHZhciBqc29uRGF0YSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vLyBcdGpzb25EYXRhLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4vLyBcdFx0aWYgKGpzb25EYXRhLnJlYWR5U3RhdGUgPT0gNCAmJiBqc29uRGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcbi8vIFx0XHRcdG9iaiA9IEpTT04ucGFyc2UoanNvbkRhdGEucmVzcG9uc2VUZXh0KTtcclxuLy8gXHRcdH1cclxuLy8gXHR9O1xyXG4vLyBcdGpzb25EYXRhLm9wZW4oXCJHRVRcIiwgXCJkYXRhL2RhdGEuanNvblwiLCB0cnVlKTtcclxuLy8gXHRqc29uRGF0YS5zZW5kKCk7XHJcbi8vIH1cclxuXHJcbnZhciBmbGFnID0gZmFsc2U7XHJcblxyXG52YXIgQ2Fyb3VzZWxQcm9kdWN0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuXHRsb2FkSnNvbjogZnVuY3Rpb24oKXtcclxuXHRcdHZhciBqc29uRGF0YSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxyXG5cdFx0XHR0aGF0ID0gdGhpcztcclxuXHJcblx0XHRqc29uRGF0YS5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5zZXJ2ZXJSZXF1ZXN0ID0ganNvbkRhdGEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmIChqc29uRGF0YS5yZWFkeVN0YXRlID09IDQgJiYganNvbkRhdGEuc3RhdHVzID09IDIwMCkge1xyXG5cdFx0XHRcdHRoYXQuc2V0U3RhdGUoeyBkYXRhOiBKU09OLnBhcnNlKGpzb25EYXRhLnJlc3BvbnNlVGV4dCkgfSwgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGZsYWcgPSB0cnVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGpzb25EYXRhLm9wZW4oXCJHRVRcIiwgXCJkYXRhL2RhdGEuanNvblwiLCB0cnVlKTtcclxuXHRcdGpzb25EYXRhLnNlbmQoKTtcclxuXHR9LFxyXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiB7IGRhdGE6IFtdIH07XHJcblx0fSxcclxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKXtcclxuXHRcdGlmIChmbGFnKSB7XHJcblx0XHRcdHRoaXMubG9hZEpzb24oKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdHJlbmRlcjogZnVuY3Rpb24oKXtcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuZGF0YSk7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInByb2R1Y3RzLWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidG90YWwtY2Fyb3VzZWxcIj5cclxuXHRcdFx0XHRcdHt0aGlzLnN0YXRlLmRhdGEucHJvZHVjdHMubWFwKGZ1bmN0aW9uIChwcm9kdWN0KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiA8UHJvZHVjdCBrZXk9e3Byb2R1Y3QubmFtZX0gZGF0YT17cHJvZHVjdH0gLz47XHJcblx0XHRcdFx0XHR9KX1cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufSk7XHJcblxyXG52YXIgUHJvZHVjdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCl7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8bGkgY2xhc3NOYW1lPVwiaXRlbVwiPlxyXG5cdFx0XHRcdDxwPnt0aGlzLnByb3BzLmRhdGEubmFtZX08L3A+XHJcblx0XHRcdFx0PGltZyBzcmM9eydpbWFnZXMvc2FwYXRvcy8nK3RoaXMucHJvcHMuZGF0YS5pbWd9IGFsdD17dGhpcy5wcm9wcy5kYXRhLm5hbWV9IC8+XHJcblx0XHRcdDwvbGk+XHJcblx0XHQpO1xyXG5cdH1cclxufSlcclxuXHJcbnZhciBteUVsZW1lbnQgPSA8Q2Fyb3VzZWxQcm9kdWN0cyAvPiAvL2RhdGE9e3Byb2R1Y3RzfVxyXG5cclxuUmVhY3RET00ucmVuZGVyKFxyXG5cdG15RWxlbWVudCxcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwbGljYXRpb24nKVxyXG4pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
